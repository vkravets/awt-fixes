--- old/src/solaris/classes/sun/awt/X11/XWindowPeer.java	2013-04-20 13:31:09.804721986 +0300
+++ new/src/solaris/classes/sun/awt/X11/XWindowPeer.java	2013-04-20 13:31:09.424724045 +0300
@@ -1887,7 +1887,7 @@
         switch (getWindowType())
         {
             case NORMAL:
-                typeAtom = protocol.XA_NET_WM_WINDOW_TYPE_NORMAL;
+                typeAtom = (ownerPeer == null) ? protocol.XA_NET_WM_WINDOW_TYPE_NORMAL : protocol.XA_NET_WM_WINDOW_TYPE_DIALOG;
                 break;
             case UTILITY:
                 typeAtom = protocol.XA_NET_WM_WINDOW_TYPE_UTILITY;
